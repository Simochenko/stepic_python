'''Ð¨Ð¸Ñ„Ñ€ Ð¦ÐµÐ·Ð°Ñ€Ñ
Ð¨Ð¸Ñ„Ñ€ Ð¦ÐµÐ·Ð°Ñ€Ñ (ÑˆÐ¸Ñ„Ñ€ ÑÐ´Ð²Ð¸Ð³Ð°) â€” Ð¾Ð´Ð¸Ð½ Ð¸Ð· ÑÐ°Ð¼Ñ‹Ñ… Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… Ð¸ Ð½Ð°Ð¸Ð±Ð¾Ð»ÐµÐµ ÑˆÐ¸Ñ€Ð¾ÐºÐ¾ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ñ… Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ. Ð¨Ð¸Ñ„Ñ€ Ð¦ÐµÐ·Ð°Ñ€Ñ â€” ÑÑ‚Ð¾
Ð²Ð¸Ð´ ÑˆÐ¸Ñ„Ñ€Ð° Ð¿Ð¾Ð´ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ ÑÐ¸Ð¼Ð²Ð¾Ð» Ð² Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾Ð¼ Ñ‚ÐµÐºÑÑ‚Ðµ Ð·Ð°Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð¼, Ð½Ð°Ñ…Ð¾Ð´ÑÑ‰Ð¸Ð¼ÑÑ Ð½Ð° Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼
Ð¿Ð¾ÑÑ‚Ð¾ÑÐ½Ð½Ð¾Ð¼ Ñ‡Ð¸ÑÐ»Ðµ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¹ Ð»ÐµÐ²ÐµÐµ Ð¸Ð»Ð¸ Ð¿Ñ€Ð°Ð²ÐµÐµ Ð½ÐµÐ³Ð¾ Ð² Ð°Ð»Ñ„Ð°Ð²Ð¸Ñ‚Ðµ.

Ð¨Ð¸Ñ„Ñ€ Ð¿Ð¾Ð´ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ â€” Ð¼ÐµÑ‚Ð¾Ð´ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ Ð·Ð°Ð¼ÐµÐ½Ð¾Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¸ÑÑ…Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾Ð³Ð¾ Ñ‚ÐµÐºÑÑ‚Ð° Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸, Ð² ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ð¸ Ñ Ð½ÐµÐºÐ¸Ð¼
Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾Ð¼.

ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð² ÑˆÐ¸Ñ„Ñ€Ðµ ÑÐ¾ ÑÐ´Ð²Ð¸Ð³Ð¾Ð¼ Ð²Ð¿Ñ€Ð°Ð²Ð¾ Ð½Ð° 33 Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ ÑÐ¸Ð¼Ð²Ð¾Ð» A Ð·Ð°Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð¼ D, ÑÐ¸Ð¼Ð²Ð¾Ð» B â€” ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð¼ E, Ð¸ Ñ‚Ð°Ðº Ð´Ð°Ð»ÐµÐµ,
 Ð´Ð¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð° Z, Ð·Ð°Ð¼ÐµÐ½ÑÐµÐ¼Ð¾Ð³Ð¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð¼ C.

Ð¨Ð¸Ñ„Ñ€ Ð¦ÐµÐ·Ð°Ñ€Ñ ÑÐ¾ ÑÐ´Ð²Ð¸Ð³Ð¾Ð¼ Ð½Ð° 3
Ð¨Ð¸Ñ„Ñ€ Ð¦ÐµÐ·Ð°Ñ€Ñ ÑÐ¾ ÑÐ´Ð²Ð¸Ð³Ð¾Ð¼ Ð½Ð° 3
Ð¨Ð¸Ñ„Ñ€ Ð½Ð°Ð·Ð²Ð°Ð½ Ð² Ñ‡ÐµÑÑ‚ÑŒ Ñ€Ð¸Ð¼ÑÐºÐ¾Ð³Ð¾ Ð¿Ð¾Ð»ÐºÐ¾Ð²Ð¾Ð´Ñ†Ð° Ð“Ð°Ñ Ð®Ð»Ð¸Ñ Ð¦ÐµÐ·Ð°Ñ€Ñ, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð²ÑˆÐµÐ³Ð¾ ÐµÐ³Ð¾ Ð´Ð»Ñ ÑÐµÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ Ð¿ÐµÑ€ÐµÐ¿Ð¸ÑÐºÐ¸ ÑÐ¾ ÑÐ²Ð¾Ð¸Ð¼Ð¸
Ð³ÐµÐ½ÐµÑ€Ð°Ð»Ð°Ð¼Ð¸.

Ð¨Ð¸Ñ„Ñ€ Ð¦ÐµÐ·Ð°Ñ€Ñ Ð»ÐµÐ³ÐºÐ¾ Ð²Ð·Ð»Ð°Ð¼Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¸ Ð½Ðµ Ð¸Ð¼ÐµÐµÑ‚ Ð¿Ð¾Ñ‡Ñ‚Ð¸ Ð½Ð¸ÐºÐ°ÐºÐ¾Ð³Ð¾ Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ.

ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¼Ð¾Ð´ÐµÐ»ÑŒ
Ð•ÑÐ»Ð¸ ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ ÑÐ¸Ð¼Ð²Ð¾Ð» Ð°Ð»Ñ„Ð°Ð²Ð¸Ñ‚Ð° Ñ ÐµÐ³Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð²Ñ‹Ð¼ Ð½Ð¾Ð¼ÐµÑ€Ð¾Ð¼ (Ð½ÑƒÐ¼ÐµÑ€ÑƒÑ Ñ 00), Ñ‚Ð¾ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð´ÐµÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼Ð¾Ð¶Ð½Ð¾
 Ð²Ñ‹Ñ€Ð°Ð·Ð¸Ñ‚ÑŒ Ñ„Ð¾Ñ€Ð¼ÑƒÐ»Ð°Ð¼Ð¸ Ð¼Ð¾Ð´ÑƒÐ»ÑŒÐ½Ð¾Ð¹ Ð°Ñ€Ð¸Ñ„Ð¼ÐµÑ‚Ð¸ÐºÐ¸:

 y=(x+k) \mod  n \phantom{,} \\ x=(y-k) \mod  n,
 y=(x+k) mod n,
x=(yâˆ’k) mod n,
Ð³Ð´Ðµ xx â€” ÑÐ¸Ð¼Ð²Ð¾Ð» Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾Ð³Ð¾ Ñ‚ÐµÐºÑÑ‚Ð°, yy â€” ÑÐ¸Ð¼Ð²Ð¾Ð» ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ‚ÐµÐºÑÑ‚Ð°, nn â€” Ð¼Ð¾Ñ‰Ð½Ð¾ÑÑ‚ÑŒ Ð°Ð»Ñ„Ð°Ð²Ð¸Ñ‚Ð° (ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²),
 Ð° kk â€” ÐºÐ»ÑŽÑ‡.

ÐŸÐ¾Ð´ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸ÐµÐ¹ mod Ð¿Ð¾Ð´Ñ€Ð°Ð·ÑƒÐ¼ÐµÐ²Ð°ÐµÑ‚ÑÑ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ñ Ð½Ð°Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ°. Ð’ ÑÐ·Ñ‹ÐºÐµ Python Ð´Ð»Ñ Ð½Ð°Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ° Ð¾Ñ‚ Ð´ÐµÐ»ÐµÐ½Ð¸Ñ Ð´Ð²ÑƒÑ…
 Ñ‡Ð¸ÑÐµÐ», Ð¼Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ %.

ÐŸÑ€Ð¸Ð¼ÐµÑ€
Ð¨Ð¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ ÐºÐ»ÑŽÑ‡Ð° k=3k=3. Ð‘ÑƒÐºÐ²Ð° Â«Ð•Â» Â«ÑÐ´Ð²Ð¸Ð³Ð°ÐµÑ‚ÑÑÂ» Ð½Ð° Ñ‚Ñ€Ð¸ Ð±ÑƒÐºÐ²Ñ‹ Ð²Ð¿ÐµÑ€ÐµÐ´ Ð¸ ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑÑ Ð±ÑƒÐºÐ²Ð¾Ð¹ Â«Ð—Â». Ð¢Ð²ÐµÑ€Ð´Ñ‹Ð¹
Ð·Ð½Ð°Ðº, Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð½Ñ‹Ð¹ Ð½Ð° Ñ‚Ñ€Ð¸ Ð±ÑƒÐºÐ²Ñ‹ Ð²Ð¿ÐµÑ€ÐµÐ´, ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑÑ Ð±ÑƒÐºÐ²Ð¾Ð¹ Â«Ð­Â», Ð±ÑƒÐºÐ²Ð° Â«Ð¯Â», Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð½Ð°Ñ Ð½Ð° Ñ‚Ñ€Ð¸ Ð±ÑƒÐºÐ²Ñ‹ Ð²Ð¿ÐµÑ€ÐµÐ´,
ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑÑ Ð±ÑƒÐºÐ²Ð¾Ð¹ Â«Ð’Â», Ð¸ Ñ‚Ð°Ðº Ð´Ð°Ð»ÐµÐµ:

Ð˜ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ Ð°Ð»Ñ„Ð°Ð²Ð¸Ñ‚: Ð Ð‘ Ð’ Ð“ Ð” Ð• Ð Ð– Ð— Ð˜ Ð™ Ðš Ð› Ðœ Ð Ðž ÐŸ Ð  Ð¡ Ð¢ Ð£ Ð¤ Ð¥ Ð¦ Ð§ Ð¨ Ð© Ðª Ð« Ð¬ Ð­ Ð® Ð¯
Ð¨Ð¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹:      Ð“ Ð” Ð• Ð Ð– Ð— Ð˜ Ð™ Ðš Ð› Ðœ Ð Ðž ÐŸ Ð  Ð¡ Ð¢ Ð£ Ð¤ Ð¥ Ð¦ Ð§ Ð¨ Ð© Ðª Ð« Ð¬ Ð­ Ð® Ð¯ Ð Ð‘ Ð’
ÐžÑ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚:

Ð¡ÑŠÐµÑˆÑŒ Ð¶Ðµ ÐµÑ‰Ñ‘ ÑÑ‚Ð¸Ñ… Ð¼ÑÐ³ÐºÐ¸Ñ… Ñ„Ñ€Ð°Ð½Ñ†ÑƒÐ·ÑÐºÐ¸Ñ… Ð±ÑƒÐ»Ð¾Ðº, Ð´Ð° Ð²Ñ‹Ð¿ÐµÐ¹ Ñ‡Ð°ÑŽ.
Ð¨Ð¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚:

Ð¤ÑÐ·Ñ‹Ñ Ð¹Ð· Ð·ÑŒÐ¸ Ð°Ñ…Ð»Ñˆ Ð¿Ð²Ñ‘Ð½Ð»Ñˆ Ñ‡ÑƒÐ³Ñ€Ñ‰Ñ†ÐºÑ„Ð½Ð»Ñˆ Ð´Ñ†Ð¾ÑÐ½, Ð¶Ð³ ÐµÑŽÑ‚Ð·Ð¼ ÑŠÐ³Ð±.
Ð’Ð·Ð»Ð¾Ð¼ ÑˆÐ¸Ñ„Ñ€Ð°
Ð¨Ð¸Ñ„Ñ€ Ð¦ÐµÐ·Ð°Ñ€Ñ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð»ÐµÐ³ÐºÐ¾ Ð²Ð·Ð»Ð¾Ð¼Ð°Ð½ Ð´Ð°Ð¶Ðµ Ð² ÑÐ»ÑƒÑ‡Ð°Ðµ, ÐºÐ¾Ð³Ð´Ð° Ð²Ð·Ð»Ð¾Ð¼Ñ‰Ð¸Ðº Ð·Ð½Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð·Ð°ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚. ÐœÐ¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ
Ð´Ð²Ðµ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¸:

Ð’Ð·Ð»Ð¾Ð¼Ñ‰Ð¸Ðº Ð·Ð½Ð°ÐµÑ‚ (Ð¸Ð»Ð¸ Ð¿Ñ€ÐµÐ´Ð¿Ð¾Ð»Ð°Ð³Ð°ÐµÑ‚), Ñ‡Ñ‚Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð»ÑÑ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ ÑˆÐ¸Ñ„Ñ€ Ð¿Ð¾Ð´ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸, Ð½Ð¾ Ð½Ðµ Ð·Ð½Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ â€” ÑÑ…ÐµÐ¼Ð° Ð¦ÐµÐ·Ð°Ñ€Ñ.
Ð’Ð·Ð»Ð¾Ð¼Ñ‰Ð¸Ðº Ð·Ð½Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð»ÑÑ ÑˆÐ¸Ñ„Ñ€ Ð¦ÐµÐ·Ð°Ñ€Ñ, Ð½Ð¾ Ð½Ðµ Ð·Ð½Ð°ÐµÑ‚ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÑÐ´Ð²Ð¸Ð³Ð°.
Ð’ Ð¿ÐµÑ€Ð²Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ ÑˆÐ¸Ñ„Ñ€ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð²Ð·Ð»Ð¾Ð¼Ð°Ð½ Ñ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸ÐµÐ¼ Ð¼ÐµÑ‚Ð¾Ð´Ð° Ñ‡Ð°ÑÑ‚Ð¾Ñ‚Ð½Ð¾Ð³Ð¾ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ ÑÑ‚Ð¾Ñ‚ Ð¼ÐµÑ‚Ð¾Ð´, Ð²Ð·Ð»Ð¾Ð¼Ñ‰Ð¸Ðº,
Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾, Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ñ‚ Ñ€ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾ÑÑ‚ÑŒ Ð² Ñ€ÐµÑˆÐµÐ½Ð¸Ð¸ Ð¸ Ð¿Ð¾Ð¹Ð¼ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ð¹ ÑˆÐ¸Ñ„Ñ€ â€” ÑˆÐ¸Ñ„Ñ€ Ð¦ÐµÐ·Ð°Ñ€Ñ.


Ð Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð±ÑƒÐºÐ² Ð² Ñ‚Ð¸Ð¿Ð¸Ñ‡Ð½Ð¾Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ñ†Ðµ Ñ‚ÐµÐºÑÑ‚Ð° Ð½Ð° Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¾Ð¼
ÑÐ·Ñ‹ÐºÐµ Ð¸Ð¼ÐµÐµÑ‚ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð½Ñ‹Ð¹ Ð¸ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·ÑƒÐµÐ¼Ñ‹Ð¹ Ð²Ð¸Ð´
Ð’Ð¾ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ Ð²Ð·Ð»Ð¾Ð¼ ÑˆÐ¸Ñ„Ñ€Ð° ÐµÑ‰Ðµ Ð±Ð¾Ð»ÐµÐµ Ð¿Ñ€Ð¾ÑÑ‚. Ð¡ÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð½Ðµ Ñ‚Ð°Ðº Ð¼Ð½Ð¾Ð³Ð¾ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð² Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ ÑÐ´Ð²Ð¸Ð³Ð° (2626 Ð´Ð»Ñ Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¾Ð³Ð¾
ÑÐ·Ñ‹ÐºÐ°, 3232 Ð´Ð»Ñ Ñ€ÑƒÑÑÐºÐ¾Ð³Ð¾ ÑÐ·Ñ‹ÐºÐ°), Ð²ÑÐµ Ð¾Ð½Ð¸ Ð¼Ð¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐµÐ½Ñ‹ Ð¿ÐµÑ€ÐµÐ±Ð¾Ñ€Ð¾Ð¼.

ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ
ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ 1. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ð¾Ðµ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÑˆÐ¸Ñ„Ñ€Ðµ Ð¦ÐµÐ·Ð°Ñ€Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ð±Ð¾Ð·Ð½Ð°Ñ‡Ð°ÑŽÑ‚ ÐºÐ°Ðº ROT N, Ð³Ð´Ðµ N â€” ÑÐ´Ð²Ð¸Ð³, ROT â€” ÑÐ¾ÐºÑ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ
Ð¾Ñ‚ ÑÐ»Ð¾Ð²Ð° ROTATE, Ð² Ð´Ð°Ð½Ð½Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ Â«Ñ†Ð¸ÐºÐ»Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÐ´Ð²Ð¸Ð³Â». ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¾Ð±Ð¾Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ROT 2 Ð¾Ð±Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ ÑÐ´Ð²Ð¸Ð³ Ð½Ð° 22 Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸,
Ñ‚Ð¾ ÐµÑÑ‚ÑŒ, Â«Ð°Â» Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ Ð² Â«Ð²Â», Â«Ð±Â» Ð² Â«Ð³Â», Ð¸ Ñ‚Ð°Ðº Ð´Ð°Ð»ÐµÐµ, Ð¸ Ð² ÐºÐ¾Ð½Ñ†Ðµ Â«ÑŽÂ» Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ Ð² Â«Ð°Â» Ð° Â«ÑÂ» â€” Ð² Â«Ð±Â».

ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ 2. Ð§Ð¸ÑÐ»Ð¾ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Ð´Ð»Ð¸Ð½Ñ‹ Ð°Ð»Ñ„Ð°Ð²Ð¸Ñ‚Ð°:

Ð´Ð»Ñ Ñ€ÑƒÑÑÐºÐ¾Ð³Ð¾ ÑÐ·Ñ‹ÐºÐ° Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ 3232 Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ñ (Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ñ ROT 0 Ð¸ ROT 33 ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚, Ð°
Ð´Ð°Ð»ÑŒÑˆÐµ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÑŽÑ‚ÑÑ ÑƒÐ¶Ðµ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÐµÐ½Ð¸Ñ);
Ð´Ð»Ñ Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¾Ð³Ð¾ ÑÐ·Ñ‹ÐºÐ° Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹ 2525 Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ð¹ (Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ñ ROT 0 Ð¸ ROT 26 ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚,
Ð° Ð´Ð°Ð»ÑŒÑˆÐµ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÑŽÑ‚ÑÑ ÑƒÐ¶Ðµ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÐµÐ½Ð¸Ñ).
ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ 3. ÐÐµÐ°Ð»Ñ„Ð°Ð²Ð¸Ñ‚Ð½Ñ‹Ðµ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹ â€” Ð·Ð½Ð°ÐºÐ¸ Ð¿Ñ€ÐµÐ¿Ð¸Ð½Ð°Ð½Ð¸Ñ, Ð¿Ñ€Ð¾Ð±ÐµÐ»Ñ‹, Ñ†Ð¸Ñ„Ñ€Ñ‹ â€” Ð½Ðµ Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ.

ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ 4. Ð•ÑÑ‚ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¼ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸ÐµÐ¼ ÑˆÐ¸Ñ„Ñ€Ð° Ð¦ÐµÐ·Ð°Ñ€Ñ ÑÑ‚Ð°Ð» ÑˆÐ¸Ñ„Ñ€ Ð’Ð¸Ð¶ÐµÐ½ÐµÑ€Ð°.'''

# eng_lower_alphabet = 'abcdefghijklmnopqrstuvwxyz'
# eng_upper_alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
# rus_lower_alphabet = "Ð°Ð±Ð²Ð³Ð´ÐµÐ¶Ð·Ð¸Ð¹ÐºÐ»Ð¼Ð½Ð¾Ð¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‰ÑŠÑ‹ÑŒÑÑŽÑ"
# rus_upper_alphabet = "ÐÐ‘Ð’Ð“Ð”Ð•Ð–Ð—Ð˜Ð™ÐšÐ›ÐœÐÐžÐŸÐ Ð¡Ð¢Ð£Ð¤Ð¥Ð¦Ð§Ð¨Ð©ÐªÐ«Ð¬Ð­Ð®Ð¯"
# symbol = [" ", ",", ".", "!", "?"]
#
# print("Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÐ·Ñ‹Ðº: aÐ½Ð³Ð»=e, Ñ€ÑƒÑ=r")
# lan = input()
# print("Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ - ch, Ð´ÐµÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ - def")
# chif = input()
# print("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ»ÑŽÑ‡ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ")
# n = int(input())
# print("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ„Ñ€Ð°Ð·Ñƒ")
# f = input()
#
# def chru(chifr, n, l, fraza):
#     if l == 'r':
#         moch = 32
#     if l == 'e':
#         moch = 26
#     if chifr== 'def':
#         n = -n
#     for i in range(len(fraza)):
#         if fraza[i].isalpha():
#             if fraza[i] == fraza[i].upper():
#                 for j in range (moch):
#                     if moch == 32:
#                         if fraza[i] == rus_upper_alphabet[j]:
#                             print(rus_upper_alphabet[(j+n)%moch], end = '')
#                             break
#                     if moch == 26:
#                         if fraza[i] == eng_upper_alphabet[j]:
#                             print(eng_upper_alphabet[(j+n)%moch], end = '')
#                             break
#             elif fraza[i] ==fraza[i].lower():
#                 for j in range (moch):
#                     if moch == 32:
#                         if fraza[i] == rus_lower_alphabet[j]:
#                            print(rus_lower_alphabet[(j+n)%moch], end='')
#                            break
#                     if moch == 26:
#                         if fraza[i] == eng_lower_alphabet[j]:
#                            print(eng_lower_alphabet[(j+n)%moch], end = '')
#                            break
#         else:
#             print(fraza[i], end='')
#
# chru(chif, n, lan, f)
'''Ð—Ð°ÑˆÐ¸Ñ„Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ‚ÐµÐºÑÑ‚ "Ð‘Ð»Ð°Ð¶ÐµÐ½, ÐºÑ‚Ð¾ Ð²ÐµÑ€ÑƒÐµÑ‚, Ñ‚ÐµÐ¿Ð»Ð¾ ÐµÐ¼Ñƒ Ð½Ð° ÑÐ²ÐµÑ‚Ðµ!" Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð¼ Ð¦ÐµÐ·Ð°Ñ€Ñ Ñ ÑÐ´Ð²Ð¸Ð³Ð¾Ð¼ Ð²Ð¿Ñ€Ð°Ð²Ð¾ Ð½Ð° 10 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð².

ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ. Ð¡Ñ‡Ð¸Ñ‚Ð°Ð¹Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ Ñ€ÑƒÑÑÐºÐ¸Ð¹ Ð°Ð»Ñ„Ð°Ð²Ð¸Ñ‚ ÑÐ¾ÑÑ‚Ð¾Ð¸Ñ‚ Ð¸Ð· 3232 Ð±ÑƒÐºÐ² (Ð±ÑƒÐºÐ²Ð° Ñ‘ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚).

ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ñ‚ÐµÐºÑÑ‚
Ð’ÐµÑ€Ð½Ð¾ Ñ€ÐµÑˆÐ¸Ð»Ð¸ 3 246 ÑƒÑ‡Ð°Ñ‰Ð¸Ñ…ÑÑ
Ð˜Ð· Ð²ÑÐµÑ… Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº 38% Ð²ÐµÑ€Ð½Ñ‹Ñ…
 ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾, Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†!'''
# d = int(input())
# a = str(input())
# for i in a:
#     if i == chr(32):
#         print(i, end="")
#     elif i == chr(33):
#         print(i, end="")
#     elif i == chr(44):
#         print(i, end="")
#     elif i == 1100:
#         print(chr(97), end="")
#     else:
#         i = ord(i) - d   ######+++++++++++++++++++++
#         print(chr(i), end="")
#     print(end="")

'''Ð—Ð°ÑˆÐ¸Ñ„Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ‚ÐµÐºÑÑ‚ "To be, or not to be, that is the question!" Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð¼ Ð¦ÐµÐ·Ð°Ñ€Ñ Ñ ÑÐ´Ð²Ð¸Ð³Ð¾Ð¼ Ð²Ð¿Ñ€Ð°Ð²Ð¾ Ð½Ð° 17 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð².

ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ñ‚ÐµÐºÑÑ‚'''
#
# def caesar(alphabet):
#     text = input("Text: ")
#     shift = ii(input("Shift: "))
#
#     def get_char(char, alphabet_, shift_):
#         if char.isalpha():
#             i = 0
#             if char.isupper():
#                 i = 1
#             return alphabet_[i][(alphabet_[i].index(char) + shift_) % len(alphabet_[0])]
#         return char
#
#     shifted = "".join([get_char(char, alphabet, shift) for char in text])
#     print(shifted)
#
#
# def english_alphabet():
#     return "".join([chr(char) for char in range(ord("a"), ord("z") + 1)])
#
#
# def ii(message=""):
#     return int(input(message))
#
#
# caesar([english_alphabet(), english_alphabet().upper()])



'''
ÐÐ²Ðµ, Ð¦ÐµÐ·Ð°Ñ€ÑŒ ðŸŒ¶ï¸
ÐÐ° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ Ð¿Ð¾Ð´Ð°ÐµÑ‚ÑÑ ÑÑ‚Ñ€Ð¾ÐºÐ° Ñ‚ÐµÐºÑÑ‚Ð° Ð½Ð° Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð½ÑƒÐ¶Ð½Ð¾ Ð·Ð°ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²ÑÐµ ÑÐ»Ð¾Ð²Ð°. ÐšÐ°Ð¶Ð´Ð¾Ðµ 
ÑÐ»Ð¾Ð²Ð¾ ÑÑ‚Ñ€Ð¾ÐºÐ¸ ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð·Ð°ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÑˆÐ¸Ñ„Ñ€Ð° Ð¦ÐµÐ·Ð°Ñ€Ñ (Ñ†Ð¸ÐºÐ»Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ ÑÐ´Ð²Ð¸Ð³Ð° Ð½Ð° Ð´Ð»Ð¸Ð½Ñƒ ÑÑ‚Ð¾Ð³Ð¾ ÑÐ»Ð¾Ð²Ð°). Ð¡Ñ‚Ñ€Ð¾Ñ‡Ð½Ñ‹Ðµ 
Ð±ÑƒÐºÐ²Ñ‹ Ð¿Ñ€Ð¸ ÑÑ‚Ð¾Ð¼ Ð¾ÑÑ‚Ð°ÑŽÑ‚ÑÑ ÑÑ‚Ñ€Ð¾Ñ‡Ð½Ñ‹Ð¼Ð¸, Ð° Ð¿Ñ€Ð¾Ð¿Ð¸ÑÐ½Ñ‹Ðµ â€“ Ð¿Ñ€Ð¾Ð¿Ð¸ÑÐ½Ñ‹Ð¼Ð¸.

Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… 
ÐÐ° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ Ð¿Ð¾Ð´Ð°ÐµÑ‚ÑÑ ÑÑ‚Ñ€Ð¾ÐºÐ° Ñ‚ÐµÐºÑÑ‚Ð° Ð½Ð° Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ.

Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð´Ð¾Ð»Ð¶Ð½Ð° Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ Ð·Ð°ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚ Ð² ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ð¸ Ñ ÑƒÑÐ»Ð¾Ð²Ð¸ÐµÐ¼ Ð·Ð°Ð´Ð°Ñ‡Ð¸.

ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ. Ð¡Ð¸Ð¼Ð²Ð¾Ð»Ñ‹, Ð½Ðµ ÑÐ²Ð»ÑÑŽÑ‰Ð¸ÐµÑÑ Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¸Ð¼Ð¸ Ð±ÑƒÐºÐ²Ð°Ð¼Ð¸, Ð½Ðµ Ð¸Ð·Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ.

Sample Input 1:

Day, mice. "Year" is a mistake!
Sample Output 1:

Gdb, qmgi. "Ciev" ku b tpzahrl!
Sample Input 2:

my name is Python!
Sample Output 2:

oa reqi ku Veznut!
'''


def encrypt(text: str) -> str:
    words = []

    for word in text.split():
        new_word = ''
        word_len = len([c for c in word if c.isupper() or c.islower()])

        for char in word:
            if char.isupper():
                new_word += chr((ord(char) + word_len - 65) % 26 + 65)
            elif char.islower():
                new_word += chr((ord(char) + word_len - 97) % 26 + 97)
            else:
                new_word += char
        words.append(new_word)

    return ' '.join(words)


text = input()
print(encrypt(text))